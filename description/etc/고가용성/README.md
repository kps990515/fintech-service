## 고가용성 : 시스템이 오랜 시간 동안 연속적으로 작동할 수 있는 능력을 의미

### 핵심지표
1. MTBF(Mean Time Between Failures): 고장 사이의 평균 가동 시간으로 시스템의 신뢰성
2. MTTR(Mean Time to Repair): 시스템이 고장난 후 다시 복구되기까지 걸리는 평균 시간으로, 복구 속도
- 고가용성 시스템에서는 MTBF를 최대화하고, MTTR을 최소화하는 것이 목표

### 고가용성의 'Nines' 개념
- **3 Nines(99.9%)**는 하루에 1.44분의 다운타임을 허용하지만, **4 Nines(99.99%)**는 하루에 8.6초만의 다운타임을 허용
- 높은 수준의 가용성을 달성하기 위해서는 자동화된 모니터링, 장애 감지, 롤백 계획 등이 필요

### 설계원칙
1. 시스템 설계: 고가용성 시스템은 장애를 대비한 설계가 필요
2. 운영 및 유지 관리: 변경 관리, 용량 관리, 자동화된 장애 탐지 및 해결

### 고가용성 아키텍처
1. Hot-Cold 아키텍처
   - 주 인스턴스가 모든 작업을 처리하고, 백업 인스턴스는 대기 상태로 있는 구조 
   - 주 인스턴스에 장애가 발생하면 수동으로 백업으로 전환해야 하며, 이 과정에서 데이터 손실 가능성이 있음
2. Hot-Warm 아키텍처
   - 주 인스턴스와 백업 인스턴스가 데이터를 동기화
   - 백업 인스턴스는 읽기 작업에 참여
   - 장애 발생 시 백업으로 전환되지만, 데이터 일관성 문제가 발생할 수 있음
3. Hot-Hot 아키텍처
   - 두 인스턴스 모두 읽기 및 쓰기 작업을 처리
   - 이중 복제가 필요
   - 쓰기 작업이 동시에 발생할 경우 데이터 충돌 문제가 발생할 수 있음

### 데이터 복제 및 리더-팔로워 구조
1. 싱글 리더 아키텍처
   - 하나의 리더 노드가 쓰기 작업을 처리
   - 팔로워 노드들이 리더의 데이터를 복제하여 읽기 작업을 처리
   - 읽기 성능 확장과 지리적 분산 캐싱에 유리
2. 멀티 리더 아키텍처
   - 여러 리더가 동시에 쓰기 작업을 처리할 수 있는 구조
   - 데이터 충돌을 해결하기 위한 추가 복잡성이 필요하며, 이를 위한 충돌 해결 전략이 필요
3. 리더 없는 아키텍처
   - 모든 노드가 데이터를 읽고 쓸 수 있는 구조
   - 최대 가용성을 제공하지만, 일관성 보장과 충돌 해결에 대한 추가적인 작업이 필요

### 장애방지를 위한 트레이드오프
1. 속도제한
2. 서비스 저하 : 높은 부하상황에서 핵심기능만 제공
3. 큐잉 : 대기열 생성
4. 서킷 브레이커
   